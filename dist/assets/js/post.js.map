{"version":3,"file":"post.js","sources":["post.js"],"sourcesContent":["\"use strict\";\r\n\r\nlet settingsMenu = document.querySelector(\".setting_menu\");\r\nlet darkBtn = document.getElementById(\"dark_btn\");\r\nlet input = document.getElementById('input_value');\r\nlet preview = document.getElementById(\"preview\");\r\nlet previewImgs = [];\r\nlet modal;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    document.querySelectorAll('.add_post_link a').forEach(function (anchor) {\r\n        anchor.addEventListener('click', function (event) {\r\n            event.preventDefault();\r\n            let clickedAnchorId = event.target.id;\r\n            console.log(clickedAnchorId);\r\n            if (clickedAnchorId === 'post-pic') {\r\n                createPostModal();\r\n            } else if (clickedAnchorId === 'post-felling') {\r\n                createPostModal();\r\n            } else if (clickedAnchorId === 'post-video') {\r\n                createPostModal();\r\n            }\r\n        })\r\n    });\r\n});\r\ninput.addEventListener('click', function () {\r\n    modal = createPostModal();\r\n\r\n});\r\n\r\nfunction createPostModal() {\r\n    let modal = document.createElement('div');\r\n\r\n    modal.classList.add('modal');\r\n    modal.innerHTML = `\r\n        <div class=\"modal-content\">\r\n        <div class=\"user_profile_modal\">\r\n        <img src=\"assets/images/5.jpg\" alt=\"Pro We Are Pro You Now\">\r\n        <div>\r\n            <p class=\"userName\">Sajeda Jomaa</p>\r\n            <small class=\"date\">Public </small>\r\n        </div>\r\n    </div>\r\n            <span class=\"close_button\">&times;</span>\r\n            <div class=\"post_input_container\">\r\n                <input id=\"input_value\" placeholder=\"What's on Your Mind?\" />\r\n                <div id=\"demo\">\r\n                    <div id=\"review\"></div>\r\n                </div>\r\n                <div id=\"previewText\"></div>\r\n                <div class=\"uploadOuter\">\r\n                    <span class=\"dragBox\">\r\n                        Drag and Drop image here\r\n                        <input type=\"file\" onChange=\"dragNdrop(event)\" ondragover=\"drag()\" ondrop=\"drop()\"\r\n                            id=\"uploadFile\" />\r\n                    </span>\r\n                </div>\r\n                <div id=\"preview\"></div>\r\n                <hr>\r\n                <button id=\"button_value\">Post</button>\r\n\r\n                <div class=\"add_post_link\">\r\n                    <a href=\"#\" id=\"post-video\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25px\" height=\"25px\" viewBox=\"0 0 24 24\">\r\n                            <path fill=\"#e31c1c\"\r\n                                d=\"M16 4a1 1 0 0 1 1 1v4.2l5.213-3.65a.5.5 0 0 1 .787.41v12.08a.5.5 0 0 1-.787.41L17 14.8V19a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1zM7.4 8.829a.4.4 0 0 0-.392.32L7 9.228v5.542a.4.4 0 0 0 .542.374l.073-.036l4.355-2.771a.401.401 0 0 0 .063-.625l-.063-.05L7.615 8.89a.4.4 0 0 0-.215-.06\" />\r\n                        </svg>Live Video\r\n                    </a>\r\n                    <a href=\"#\" id=\"post-pic\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25px\" height=\"25px\" viewBox=\"0 0 24 24\">\r\n                            <path fill=\"#7dc45f\" d=\"m12 13.5l6-4l-6-4zM9.025 17q-.825 0-1.412-.587T7.025 15V4q0-.825.588-1.412T9.025 2h11q.825 0 1.413.588T22.025 4v11q0 .825-.587 1.413T20.025 17zm-3.3 4.875q-.825.125-1.475-.4t-.75-1.35L2.15 9.2q-.1-.825.413-1.475t1.337-.75l1.125-.125V16q0 1.25.875 2.125T8.025 19H18.3q-.15.6-.6 1.038t-1.1.512z\" />\r\n                        </svg>Photo/Video\r\n                    </a>\r\n                    <a href=\"#\" id=\"post-felling\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"25px\" height=\"25px\" viewBox=\"0 0 24 24\">\r\n                            <path fill=\"#ffde05\" d=\"M12 17.5c2.33 0 4.3-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5M8.5 11A1.5 1.5 0 0 0 10 9.5A1.5 1.5 0 0 0 8.5 8A1.5 1.5 0 0 0 7 9.5A1.5 1.5 0 0 0 8.5 11m7 0A1.5 1.5 0 0 0 17 9.5A1.5 1.5 0 0 0 15.5 8A1.5 1.5 0 0 0 14 9.5a1.5 1.5 0 0 0 1.5 1.5M12 20a8 8 0 0 1-8-8a8 8 0 0 1 8-8a8 8 0 0 1 8 8a8 8 0 0 1-8 8m0-18C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10a10 10 0 0 0 10-10A10 10 0 0 0 12 2\" />\r\n                        </svg>Feeling/Activity\r\n                    </a>\r\n                    <div id=\"webCam\">\r\n                        <video id=\"vid\"></video>\r\n                    </div>\r\n                    <ul class=\"utility-group\">\r\n                        <li class=\"emoji-selector\" id=\"emojiSelector\">\r\n                            <ul id=\"emojiList\" class=\"emoji-list\"></ul>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    document.body.appendChild(modal);\r\n\r\n    let closeModal = modal.querySelector('.close_button');\r\n    closeModal.onclick = function () {\r\n        modal.style.display = 'none';\r\n    };\r\n\r\n    window.onclick = function (event) {\r\n        if (event.target == modal) {\r\n            modal.style.display = 'none';\r\n        }\r\n    };\r\n\r\n    modal.style.display = 'block';\r\n    document.getElementById('button_value').style.display = 'block';\r\n    modal.querySelectorAll('.add_post_link a').forEach(function (anchor) {\r\n        anchor.addEventListener('click', function (event) {\r\n            event.preventDefault();\r\n            let clickedAnchorId = event.target.id;\r\n            console.log(clickedAnchorId);\r\n            if (clickedAnchorId === 'post-pic') {\r\n                modal.querySelector('.uploadOuter').style.display = 'block';\r\n            } else if (clickedAnchorId === 'post-felling') {\r\n                fetchingApi();\r\n            } else if (clickedAnchorId === 'post-video') {\r\n                modal.querySelector('#webCam').style.display = 'block';\r\n                let video = modal.querySelector(\"#vid\");\r\n                let mediaDevices = navigator.mediaDevices;\r\n                video.muted = true;\r\n                mediaDevices\r\n                    .getUserMedia({\r\n                        video: true,\r\n                        audio: true,\r\n                    })\r\n                    .then((stream) => {\r\n                        video.srcObject = stream;\r\n                        video.addEventListener(\"loadedmetadata\", () => {\r\n                            video.play();\r\n                        });\r\n\r\n                        video.stream = stream;\r\n                    })\r\n                    .catch(alert);\r\n            }\r\n        });\r\n    });\r\n    modal.querySelector('#button_value').addEventListener('click', function () {\r\n        let inputValue = modal.querySelector('#input_value').value;\r\n        let preview = document.getElementById(\"preview\");\r\n        let uploadOuter = document.querySelector('.uploadOuter');\r\n        preview.style.display = 'none';\r\n        uploadOuter.style.display = 'none';\r\n\r\n        let post = {\r\n            id: Date.now(),\r\n            user: {\r\n                name: 'Sajeda Jomaa',\r\n                profileImage: 'assets/images/5.jpg',\r\n            },\r\n            content: inputValue,\r\n            images: previewImgs,\r\n            date: new Date().toISOString(),\r\n            urlPreview: {\r\n                url: urlData.url,\r\n                title: urlData.title,\r\n                description: urlData.description,\r\n                image: urlData.image,\r\n                domain: urlData.domain\r\n            }\r\n        };\r\n\r\n        savePostToLocalStorage(post);\r\n        displayPost(post);\r\n\r\n        previewImgs = [];\r\n        document.getElementById('input_value').value = \"\";\r\n    });\r\n    let urlData = {};\r\n\r\n\r\n    modal.querySelector('#input_value').addEventListener('keydown', function () {\r\n        setTimeout(function () {\r\n            let status = modal.querySelector('#input_value').value;\r\n\r\n            let urlRegex = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\r\n                url = status.match(urlRegex);\r\n\r\n            if (url) {\r\n                if (url.length > 0) {\r\n                    $('#demo').css(\"display\", \"block\");\r\n                    $('#review').css(\"display\", \"block\");\r\n                    $('#review').html('<center><img src=\"https://loading.io/spinners/spinner/index.ajax-spinner-preloader.gif\" class=\"loading\"/>');\r\n\r\n                    fetchUrlPreview(url[0]);\r\n                } else {\r\n                    $('#review').css(\"display\", \"none\");\r\n                }\r\n            } else {\r\n                $('#review').css(\"display\", \"none\");\r\n            }\r\n        }, 50);\r\n    });\r\n\r\n    return modal;\r\n}\r\n\r\nfunction settingsMenuToggle() {\r\n    settingsMenu.classList.toggle(\"setting_menu_height\");\r\n}\r\n\r\ndarkBtn.onclick = function () {\r\n    darkBtn.classList.toggle(\"dark_btn_on\");\r\n};\r\n\r\n\r\n\r\nfunction dragNdrop(event) {\r\n    let files = event.target.files;\r\n    if (files.length > 0) {\r\n        Array.from(files).forEach(file => {\r\n            let reader = new FileReader();\r\n            reader.onload = function (e) {\r\n                let base64Image = e.target.result;\r\n                previewImgs.push(base64Image);\r\n\r\n                let previewImg = document.createElement(\"img\");\r\n                previewImg.setAttribute(\"src\", base64Image);\r\n                preview.appendChild(previewImg);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        });\r\n    }\r\n}\r\n\r\nfunction drag() {\r\n    document.getElementById('uploadFile').parentNode.className = 'draging dragBox';\r\n}\r\n\r\nfunction drop() {\r\n    document.getElementById('uploadFile').parentNode.className = 'dragBox';\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction savePostToLocalStorage(post) {\r\n    let posts = JSON.parse(localStorage.getItem('posts')) || [];\r\n    posts.push(post);\r\n    localStorage.setItem('posts', JSON.stringify(posts));\r\n}\r\n\r\n\r\n\r\nfunction createImageModal() {\r\n    let modal = document.createElement('div');\r\n    modal.classList.add('image-modal');\r\n    modal.innerHTML = `\r\n        <div class=\"image-modal-content\">\r\n            <span class=\"close\">&times;</span>\r\n            <div class=\"image-gallery\"></div>\r\n        </div>\r\n    `;\r\n    document.body.appendChild(modal);\r\n\r\n    modal.querySelector('.close').onclick = function () {\r\n        modal.style.display = 'none';\r\n    };\r\n\r\n    modal.onclick = function (event) {\r\n        if (event.target === modal) {\r\n            modal.style.display = 'none';\r\n        }\r\n    };\r\n}\r\n\r\ncreateImageModal();\r\n\r\nfunction showImagesInModal(images) {\r\n    let modal = document.querySelector('.image-modal');\r\n    let gallery = modal.querySelector('.image-gallery');\r\n    gallery.innerHTML = '';\r\n\r\n    images.forEach(imgSrc => {\r\n        let img = document.createElement('img');\r\n        img.src = imgSrc;\r\n        gallery.appendChild(img);\r\n    });\r\n\r\n    modal.style.display = 'block';\r\n}\r\n\r\nfunction displayPost(post) {\r\n    let add_post_container = document.createElement('div');\r\n    add_post_container.classList.add('add_post_container');\r\n    add_post_container.style.display = 'block';\r\n    add_post_container.dataset.id = post.id;\r\n\r\n    let postContent = `\r\n        <div class=\"post_row\">\r\n            <div class=\"user_profile\">\r\n                <img src=\"${post.user.profileImage}\" alt=\"Profile Image\">\r\n                <div class=\"post_profile_data\">\r\n                    <p class=\"userName\">${post.user.name}</p>\r\n                    <p class=\"date\"><small>${new Date(post.date).toLocaleString()}</small></p>\r\n                </div>\r\n            </div>\r\n            <a href=\"\"><i class=\"\"></i></a>\r\n            <button class=\"delete_post\" onclick=\"deletePost(${post.id})\">Delete</button>\r\n            </div>\r\n        <p class=\"postContent\">${post.content}</p>\r\n    `;\r\n\r\n    if (post.images.length > 0) {\r\n        postContent += `<div class=\"post_image_container grid_image_container\">`;\r\n        post.images.forEach((imgSrc, index) => {\r\n            if (index < 3) {\r\n                postContent += `<img class=\"post_img\" src=\"${imgSrc}\" alt=\"postImage\" onclick=\"showImagesInModal(${JSON.stringify(post.images)})\">`;\r\n            } else if (index === 3) {\r\n                postContent += `\r\n                    <div class=\"more_images\">\r\n                        <img class=\"post_img\" src=\"${imgSrc}\" alt=\"postImage\">\r\n                        <div class=\"more_overlay\">+${post.images.length - 4}</div>\r\n                    </div>\r\n                `;\r\n            }\r\n        });\r\n        postContent += `</div>`;\r\n    }\r\n\r\n    if (post.urlPreview && post.urlPreview.url) {\r\n        postContent += `\r\n            <div class=\"url_preview\">\r\n                <a href=\"${post.urlPreview.url}\" target=\"_BLANK\">\r\n                    <img src=\"${post.urlPreview.image}\" alt=\"Preview Image\"/>\r\n                    <div>\r\n                        <h4>${post.urlPreview.title}</h4>\r\n                        <p>${post.urlPreview.description}</p>\r\n                        <span>${post.urlPreview.domain}</span>\r\n                    </div>\r\n                </a>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    postContent += `\r\n        <div class=\"post_row\">\r\n            <div class=\"activity_icon\">\r\n                <div><img src=\"assets/images/like-blue.png\" alt=\"Like\">290</div>\r\n                <div><img src=\"assets/images/comments.png\" alt=\"Comments\">98</div>\r\n                <div><img src=\"assets/images/share.png\" alt=\"Share\">9834</div>\r\n            </div>\r\n            <div class=\"post_profile_icon\">\r\n                <img src=\"assets/images/5.jpg\" alt=\"Profile Pic\"> <i class=\"fa fa-caret-down\"></i>\r\n            </div>\r\n        </div>\r\n    `;\r\n\r\n    add_post_container.innerHTML = postContent;\r\n\r\n    // if (window.location.href === 'http://localhost:8000/userProfile.html') {\r\n    document.body.querySelector('.main_content').appendChild(add_post_container);\r\n\r\n    add_post_container.querySelectorAll('.post_img').forEach(img => {\r\n        img.addEventListener('click', function () {\r\n            showImagesInModal(post.images);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nfunction deletePost(postId) {\r\n    let posts = JSON.parse(localStorage.getItem('posts')) || [];\r\n    posts = posts.filter(post => post.id !== postId);\r\n    localStorage.setItem('posts', JSON.stringify(posts));\r\n\r\n    let postElement = document.querySelector(`.add_post_container[data-id='${postId}']`);\r\n    if (postElement) {\r\n        postElement.remove();\r\n    }\r\n}\r\n\r\nfunction loadPostsFromLocalStorage() {\r\n    let posts = localStorage.getItem('posts');\r\n    if (!posts) {\r\n        return;\r\n    }\r\n\r\n    try {\r\n        posts = JSON.parse(posts);\r\n    } catch (error) {\r\n        console.error('Error parsing JSON:', error);\r\n        return;\r\n    }\r\n\r\n    posts.sort((a, b) => new Date(b.date) - new Date(a.date));\r\n\r\n    posts.forEach(post => {\r\n        displayPost(post);\r\n    });\r\n}\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    loadPostsFromLocalStorage();\r\n});\r\n\r\nconst emojiSelector = document.getElementById('emojiSelector');\r\nconst emojiList = document.getElementById('emojiList');\r\n\r\nfunction fetchingApi() {\r\n    emojiSelector.classList.toggle('active');\r\n    emojiSelector.style.display = 'block';\r\n    fetch('https://emoji-api.com/emojis?access_key=8f1226c4f21f2ba77b7c603b0ade575a4271e3b5')\r\n        .then(res => res.json())\r\n        .then(data => loadEmoji(data));\r\n}\r\n\r\nlet selectedEmoji = '';\r\n\r\nfunction loadEmoji(data) {\r\n    emojiList.innerHTML = '';\r\n    data.forEach(emoji => {\r\n        let li = document.createElement('li');\r\n        li.textContent = emoji.character;\r\n        li.addEventListener('click', function () {\r\n            console.log(`Emoji clicked ${emoji.character} `);\r\n            selectedEmoji = emoji.character;\r\n            let inputField = document.getElementById('input_value');\r\n            inputField.value = selectedEmoji + ' ' + inputField.value;\r\n            document.querySelector('.post_text').innerHTML = ` ${emoji.character} `;\r\n        });\r\n        emojiList.appendChild(li);\r\n    });\r\n}\r\n// let urlData = {};\r\n\r\n// $('#input_value').keydown(function () {\r\n//     setTimeout(function () {\r\n//         let status = $('#input_value').val();\r\n\r\n//         let urlRegex = /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig,\r\n//             url = status.match(urlRegex);\r\n\r\n//         if (url) {\r\n//             if (url.length > 0) {\r\n//                 $('#demo').css(\"display\", \"block\");\r\n//                 $('#review').css(\"display\", \"block\");\r\n//                 $('#review').html('<center><img src=\"https://loading.io/spinners/spinner/index.ajax-spinner-preloader.gif\" class=\"loading\"/>');\r\n\r\n//                 fetchUrlPreview(url[0]);\r\n//             } else {\r\n//                 $('#review').css(\"display\", \"none\");\r\n//             }\r\n//         } else {\r\n//             $('#review').css(\"display\", \"none\");\r\n//         }\r\n//     }, 50);\r\n// });\r\n\r\nfunction fetchUrlPreview(url) {\r\n    let access_token = \"EAAiYtZBMt3wABOxW98U7pZBswevkvjVq7SXIMvchuqWZBwmcCcizmZA0yUAto6jZCq3Ku0wEBXkVj4pW5ZAx1edXUwYc8LpeNMYNrSXL9QEUu0UmG7TZCRZBw3OeluuG8uajjnFO88jgL42z4f8bPAti2UmI2ABj5XzZCcd2NOsZC6jES1GfHDisohwxZBTbumeKhvFjb2QvKSvk3ZB3riApHzv4tmCgBULIGq4fTtwZD\";\r\n\r\n    $.post(\"https://graph.facebook.com/v20.0/\", {\r\n        id: url,\r\n        scrape: true,\r\n        access_token: access_token\r\n    }).done(function (response) {\r\n        if (response) {\r\n            let title = response.title || '',\r\n                description = response.description || '',\r\n                image = response.image[0] ? response.image[0].url : '',\r\n                domain = url.split(\"/\");\r\n\r\n            let review = '<a href=\"' + url + '\" target=\"_BLANK\">'\r\n                + '<img src=\"' + image + '\"/>'\r\n                + '<div><h4>' + title + '</h4>'\r\n                + '<p>' + description + '</p>'\r\n                + '<span>' + domain[2] + '</span></div></a>';\r\n\r\n            if (title || description || image) {\r\n                $('#review').html(review);\r\n            } else {\r\n                $('#review').html('<p>No preview available.</p>');\r\n            }\r\n\r\n            urlData = {\r\n                url: url,\r\n                title: title,\r\n                description: description,\r\n                image: image,\r\n                domain: domain[2]\r\n            };\r\n        } else {\r\n            $('#review').html('<p>Unable to fetch preview.</p>');\r\n        }\r\n    }).fail(function () {\r\n        $('#review').html('<p>Error fetching preview.</p>');\r\n    });\r\n}"],"names":["let","settingsMenu","document","querySelector","darkBtn","getElementById","input","preview","previewImgs","modal","createPostModal","createElement","classList","add","innerHTML","body","appendChild","onclick","style","display","window","event","target","querySelectorAll","forEach","anchor","addEventListener","preventDefault","clickedAnchorId","id","console","log","fetchingApi","video","mediaDevices","navigator","muted","getUserMedia","audio","then","srcObject","stream","play","catch","alert","inputValue","value","uploadOuter","post","Date","now","user","name","profileImage","content","images","date","toISOString","urlPreview","url","urlData","title","description","image","domain","savePostToLocalStorage","displayPost","setTimeout","match","length","$","css","html","fetchUrlPreview","settingsMenuToggle","toggle","dragNdrop","files","Array","from","file","reader","FileReader","onload","e","base64Image","result","previewImg","push","setAttribute","readAsDataURL","drag","parentNode","className","drop","posts","JSON","parse","localStorage","getItem","setItem","stringify","createImageModal","showImagesInModal","gallery","imgSrc","img","src","add_post_container","dataset","postContent","toLocaleString","index","deletePost","postId","filter","postElement","remove","loadPostsFromLocalStorage","error","sort","a","b","emojiSelector","emojiList","fetch","res","json","data","loadEmoji","selectedEmoji","emoji","li","textContent","character","inputField","scrape","access_token","done","response","review","split","fail"],"mappings":"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"}
